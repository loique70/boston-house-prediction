<!DOCTYPE html>
<html>
<head>
    <title>Prédiction du prix</title>
    <link rel="stylesheet" href="mystyle.css">
</head>
<body>
    <h1>Prédiction du prix</h1>
    <div>
        <form id="predict-form">
            <label for="RM">RM:</label><br>
            <input type="text" id="RM" name="RM" value="6.575"><br>
            <label for="PTRATIO">PTRATIO:</label><br>
            <input type="text" id="PTRATIO" name="PTRATIO" value="15.3"><br>
            <label for="LSTAT">LSTAT:</label><br>
            <input type="text" id="LSTAT" name="LSTAT" value="4.98"><br>
            <button type="button" onclick="getPrediction()">Prédire</button>
        </form>
    </div>
    <p id="result"></p>

    <script>
    function getPrediction() {
        let RM = document.getElementById('RM').value;
        let PTRATIO = document.getElementById('PTRATIO').value;
        let LSTAT = document.getElementById('LSTAT').value;
        let xhr = new XMLHttpRequest();
        xhr.open('POST', 'http://localhost:5000/predict', true);
        xhr.setRequestHeader('Content-Type', 'application/json');
        xhr.onload = function () {
            var data = JSON.parse(this.responseText);
            document.getElementById('result').textContent = 'Prédiction : ' + data.prediction;
        };
        var data = JSON.stringify({ "RM": RM, "PTRATIO": PTRATIO, "LSTAT": LSTAT });
        xhr.send(data);
    }
    </script>
</body>
</html>
